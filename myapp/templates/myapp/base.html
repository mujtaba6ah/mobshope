<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'myapp/styles.css' %}">
    <title>{% block title %}QJ{% endblock title %}</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" 
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
    crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:200,400&display=swap" rel="stylesheet">

    <style>
        /* Additional styles to handle responsiveness */
        .responsive-nav {
            display: none;
        }
        .active-nav {
            display: block;
        }
    </style>

</head>
<body class="bg-gray-100 text-gray-800">
  <!--Nav-->
  <nav id="header" class="w-full z-30 top-0 py-1 bg-white shadow-md">
    <div class="w-full container mx-auto flex flex-wrap items-center justify-between mt-0 px-6 py-3">

        <!-- Mobile Toggle Button -->
        <label for="menu-toggle" class="cursor-pointer md:hidden block">
            <svg class="fill-current text-gray-900" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <title>menu</title>
                <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
            </svg>
        </label>
        <input class="hidden" type="checkbox" id="menu-toggle" onclick="toggleMenu()" />

        <!-- Navigation Menu -->
        <div class="hidden md:flex md:items-center md:w-auto w-full order-3 md:order-1" id="menu">
            <nav>
                <ul class="md:flex items-center justify-between text-base text-gray-700 pt-4 md:pt-0">
                    <li><a class="inline-block no-underline hover:text-black hover:underline py-2 px-4" href="/">Shop</a></li>
                    <li><a class="inline-block no-underline hover:text-black hover:underline py-2 px-4" href="#">About</a></li>
                </ul>
            </nav>
        </div>

        <!-- Logo -->
        <div class="order-1 md:order-2 flex items-center justify-between m-auto">
            <a class="flex items-center tracking-wide no-underline hover:no-underline font-bold text-gray-800 text-xl" href="/">
                <img src="{% static 'myapp/images/shoping.png' %}" alt="QJ Logo" class="h-10 w-auto" />
               
            </a>
            <a class=" text-xl justify-between" href="/" >QJ</a>
        </div>

        <!-- User and Cart Icons -->
        <div class="order-2 md:order-3 flex items-center" id="nav-content">
           
            {% if user.is_authenticated %}
            <a href="{% url 'logout' %}" class="px-4">Logout</a>
            {% else %}
            <a href="{% url 'login' %}" class="px-4">Login</a>
            <a href="{% url 'register' %}" class="px-4">Register</a>
            {% endif %}
            <!-- User Profile Icon -->
            <a class="inline-block no-underline hover:text-black" href="#">
                <svg class="fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <circle fill="none" cx="12" cy="7" r="3" />
                    <path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z" />
                </svg>
            </a>

            <!-- Cart Icon -->
            <a class="pl-3 inline-block no-underline hover:text-black flex" href="{% url 'cart_summary' %}">
                <svg class="fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path d="M21,7H7.462L5.91,3.586C5.748,3.229,5.392,3,5,3H2v2h2.356L9.09,15.414C9.252,15.771,9.608,16,10,16h8 c0.4,0,0.762-0.238,0.919-0.606l3-7c0.133-0.309,0.101-0.663-0.084-0.944C21.649,7.169,21.336,7,21,7z M17.341,14h-6.697L8.371,9 h11.112L17.341,14z" />
                    <circle cx="10.5" cy="18.5" r="1.5" />
                    <circle cx="17.5" cy="18.5" r="1.5" />
                    <span class="bg-gray-500 text-white rounded px-2 py-1">{{ cart|length }}</span>
                </svg>
            </a>
        </div>
    </div>

    <!-- Mobile Menu (Responsive) -->
    <div class="w-full bg-white hidden responsive-nav" id="responsive-menu">
        <ul class="flex flex-col text-gray-700">
            <li class="py-2"><a href="/" class="hover:text-black">Shop</a></li>
            <li class="py-2"><a href="#" class="hover:text-black">About</a></li>

          
        </ul>
    </div>
  </nav>

    {% if messages %}
        {% for message in messages %}

        <div id="alert-border-5" class="flex items-center p-4 border-t-4 border-gray-300 bg-gray-50 dark:bg-gray-800 dark:border-gray-600" role="alert">
            <svg class="flex-shrink-0 w-4 h-4 dark:text-gray-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
            </svg>
            <div class="ms-3 text-sm font-medium text-gray-800 dark:text-gray-300">
                {{ message }}
            </div>
            <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-gray-50 text-gray-500 rounded-lg focus:ring-2 focus:ring-gray-400 p-1.5 hover:bg-gray-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white" data-dismiss-target="#alert-border-5" aria-label="Close">
                <span class="sr-only">Close</span>
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                </svg>
            </button>
        </div>
        
        {% endfor %}
    
    
    
    {% endif %}
   

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-8 px-4">
        {% block body %}
        {% endblock body %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-10">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center flex-col lg:flex-row">
                <p>&copy; 2024 QJ. All Rights Reserved.</p>
                <div class="mt-4 lg:mt-0 space-x-4">
                    <a href="#" class="hover:underline">Privacy Policy</a>
                    <a href="#" class="hover:underline">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Toggle responsive menu on mobile devices
        function toggleMenu() {
            const menu = document.getElementById('responsive-menu');
            menu.classList.toggle('active-nav');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const closeButton = document.querySelector('[data-dismiss-target="#alert-border-5"]');
            if (closeButton) {
                closeButton.addEventListener('click', () => {
                    document.querySelector('#alert-border-5').style.display = 'none';
                });
            }
        });

    </script>
</body>
</html>